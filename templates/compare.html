{% extends 'base.html' %}

{% load static %}
{% load log_tags %}
{% block content %}
{% with request.get_full_path as url %}
{# maybe add dynamic reference? #}
{% with reference=logs|index:ref %}
 <table class="table">
    <thead>
        <tr>
        {% for log in logs %}
            <th>
                <a href="{{url|create_ref_url:forloop.counter0}}">Select as ref</a>
                <span class="{% if log == reference %} selected {% else %} not-selected {% endif %}">{{log.log_name}}</span>
            </th>
        {% endfor %}
        </tr>
    </thead>
    <tr>
    {% for log in logs %}
        <td>
            {% include 'graph.html' with div_id=forloop.counter0 data=log|get_graph:reference %}
        </td>
    {% endfor %}
    </tr>
    <tr>
        {% for log in logs %}
            <td>
            {% include 'metrics.html' with name=log.log_name data=log|get_metrics:reference %}
            </td>
        {% endfor %}
        </tr>
</table>
{% endwith %}
{% endwith %}
<style type="text/css">
table {
    table-layout: fixed;
    width: 100%;
  }
.selected {
    color: green;
}  
.not-selected {
    color: orange;
}
</style>
{% endblock %}